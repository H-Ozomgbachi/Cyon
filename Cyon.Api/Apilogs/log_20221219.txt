2022-12-19 13:22:57.753 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-19 13:22:58.391 +01:00 [INF] Creating key {a1173819-fff9-49c6-9a0e-57dfe3e34398} with creation date 2022-12-19 12:22:58Z, activation date 2022-12-19 12:22:57Z, and expiration date 2023-03-19 12:22:57Z.
2022-12-19 13:22:58.401 +01:00 [INF] Writing data to file 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys\key-a1173819-fff9-49c6-9a0e-57dfe3e34398.xml'.
2022-12-19 13:22:58.657 +01:00 [INF] Now listening on: https://localhost:7271
2022-12-19 13:22:58.657 +01:00 [INF] Now listening on: http://localhost:5059
2022-12-19 13:22:58.660 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-19 13:22:58.661 +01:00 [INF] Hosting environment: Development
2022-12-19 13:22:58.661 +01:00 [INF] Content root path: C:\Users\HP\Desktop\Paid-Projects\Cyon\Cyon.Api\
2022-12-19 13:23:36.157 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/swagger/index.html - -
2022-12-19 13:23:39.298 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/swagger/index.html - - - 200 - text/html;charset=utf-8 3148.3619ms
2022-12-19 13:23:41.615 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/_framework/aspnetcore-browser-refresh.js - -
2022-12-19 13:23:41.635 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/_framework/aspnetcore-browser-refresh.js - - - 200 11986 application/javascript;+charset=utf-8 19.5329ms
2022-12-19 13:23:42.219 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/_vs/browserLink - -
2022-12-19 13:23:42.326 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 106.5372ms
2022-12-19 13:23:43.814 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/swagger/v1/swagger.json - -
2022-12-19 13:23:44.013 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 199.7404ms
2022-12-19 13:29:00.419 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/api/v1/chaplains - -
2022-12-19 13:29:01.328 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-12-19 13:29:01.337 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-12-19 13:29:01.338 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/api/v1/chaplains - - - 401 0 - 918.7417ms
2022-12-19 15:07:24.287 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-19 15:07:25.083 +01:00 [INF] Now listening on: https://localhost:7271
2022-12-19 15:07:25.083 +01:00 [INF] Now listening on: http://localhost:5059
2022-12-19 15:07:25.089 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-19 15:07:25.089 +01:00 [INF] Hosting environment: Development
2022-12-19 15:07:25.089 +01:00 [INF] Content root path: C:\Users\HP\Desktop\Paid-Projects\Cyon\Cyon.Api\
2022-12-19 15:07:27.331 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/swagger/index.html - -
2022-12-19 15:07:28.178 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/_framework/aspnetcore-browser-refresh.js - -
2022-12-19 15:07:28.206 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/_framework/aspnetcore-browser-refresh.js - - - 200 11986 application/javascript;+charset=utf-8 24.0864ms
2022-12-19 15:07:28.206 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/swagger/index.html - - - 200 - text/html;charset=utf-8 884.8625ms
2022-12-19 15:07:28.262 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/_vs/browserLink - -
2022-12-19 15:07:28.412 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 149.2438ms
2022-12-19 15:07:28.593 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/swagger/v1/swagger.json - -
2022-12-19 15:07:28.968 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 374.7344ms
2022-12-19 15:13:14.470 +01:00 [INF] Entity Framework Core 6.0.11 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2022-12-19 15:13:24.987 +01:00 [INF] Entity Framework Core 6.0.11 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2022-12-19 15:14:03.187 +01:00 [INF] Entity Framework Core 6.0.11 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2022-12-19 15:14:11.571 +01:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-19 15:14:11.617 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-19 15:14:11.621 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-19 15:14:11.622 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-19 15:14:11.743 +01:00 [INF] Executed DbCommand (106ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-19 15:14:11.762 +01:00 [INF] Applying migration '20221219141325_AddedDepartment'.
2022-12-19 15:14:12.597 +01:00 [INF] Executed DbCommand (693ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'8b127948-c9ef-4f02-8a0b-4ae404c97219';
SELECT @@ROWCOUNT;
2022-12-19 15:14:12.604 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'b8b7ff0b-3e67-4114-88fa-96981432c82d';
SELECT @@ROWCOUNT;
2022-12-19 15:14:12.610 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'f9e3b8bc-52d7-4eef-9f36-cb3f9d2d38b2';
SELECT @@ROWCOUNT;
2022-12-19 15:14:13.778 +01:00 [INF] Executed DbCommand (1,168ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Chaplains]') AND [c].[name] = N'DateAdded');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Chaplains] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Chaplains] ADD DEFAULT '2022-12-19T15:13:25.0410409+01:00' FOR [DateAdded];
2022-12-19 15:14:13.860 +01:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Announcements]') AND [c].[name] = N'DateAdded');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Announcements] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Announcements] ADD DEFAULT '2022-12-19T15:13:25.0411526+01:00' FOR [DateAdded];
2022-12-19 15:14:13.962 +01:00 [INF] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Departments] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(100) NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([Id])
);
2022-12-19 15:14:14.205 +01:00 [INF] Executed DbCommand (243ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (N'3010ff39-a5bb-4447-8faf-a03165647ba2', N'68a8359d-b18d-48dd-9651-92487715a3ee', N'Member', N'MEMBER');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2022-12-19 15:14:14.219 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (N'7cbb1063-6656-4263-aee5-94356a096ab8', N'9a14bea2-1876-4ef7-90d9-33664b394e3d', N'Super', N'SUPER');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2022-12-19 15:14:14.234 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (N'e743c7a5-85ee-4fa3-983a-cfd67a716654', N'a875e666-1e10-41e9-bba1-9c7e736488ba', N'Executive', N'EXECUTIVE');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2022-12-19 15:14:14.235 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20221219141325_AddedDepartment', N'6.0.11');
2022-12-19 15:18:53.843 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-19 15:18:54.677 +01:00 [INF] Now listening on: https://localhost:7271
2022-12-19 15:18:54.678 +01:00 [INF] Now listening on: http://localhost:5059
2022-12-19 15:18:54.720 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-19 15:18:54.720 +01:00 [INF] Hosting environment: Development
2022-12-19 15:18:54.720 +01:00 [INF] Content root path: C:\Users\HP\Desktop\Paid-Projects\Cyon\Cyon.Api\
2022-12-19 15:18:55.917 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/swagger/index.html - -
2022-12-19 15:18:56.907 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/_framework/aspnetcore-browser-refresh.js - -
2022-12-19 15:18:56.923 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/swagger/index.html - - - 200 - text/html;charset=utf-8 1018.1248ms
2022-12-19 15:18:56.923 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/_framework/aspnetcore-browser-refresh.js - - - 200 11986 application/javascript;+charset=utf-8 13.5197ms
2022-12-19 15:18:56.979 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/_vs/browserLink - -
2022-12-19 15:18:57.030 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 50.5829ms
2022-12-19 15:18:57.261 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/swagger/v1/swagger.json - -
2022-12-19 15:18:57.670 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 409.5602ms
2022-12-19 15:19:34.351 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7271/api/v1/authentication/login application/json-patch+json 65
2022-12-19 15:19:34.363 +01:00 [INF] CORS policy execution failed.
2022-12-19 15:19:34.363 +01:00 [INF] Request origin https://localhost:7271 does not have permission to access the resource.
2022-12-19 15:19:34.542 +01:00 [INF] Executing endpoint 'Cyon.Api.Controllers.v1.AuthenticationController.LoginUser (Cyon.Api)'
2022-12-19 15:19:34.625 +01:00 [INF] Route matched with {action = "LoginUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(Cyon.Domain.DTOs.Authentication.UserForAuthenticationDto) on controller Cyon.Api.Controllers.v1.AuthenticationController (Cyon.Api).
2022-12-19 15:19:39.244 +01:00 [INF] Entity Framework Core 6.0.11 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2022-12-19 15:19:42.179 +01:00 [INF] Executed DbCommand (379ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PhotoUrl], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2022-12-19 15:19:43.321 +01:00 [INF] Executed DbCommand (155ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2022-12-19 15:19:43.820 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-12-19 15:19:43.984 +01:00 [INF] Executed action Cyon.Api.Controllers.v1.AuthenticationController.LoginUser (Cyon.Api) in 9344.3777ms
2022-12-19 15:19:43.988 +01:00 [INF] Executed endpoint 'Cyon.Api.Controllers.v1.AuthenticationController.LoginUser (Cyon.Api)'
2022-12-19 15:19:44.019 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7271/api/v1/authentication/login application/json-patch+json 65 - 200 357 application/json;+charset=utf-8 9668.3696ms
2022-12-19 15:20:31.222 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/api/v1/departments - -
2022-12-19 15:20:31.481 +01:00 [INF] Executing endpoint 'Cyon.Api.Controllers.v1.DepartmentsController.GetDepartments (Cyon.Api)'
2022-12-19 15:20:31.493 +01:00 [INF] Route matched with {action = "GetDepartments", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Cyon.Domain.Models.Department.DepartmentModel]]] GetDepartments(Cyon.Domain.Common.Pagination) on controller Cyon.Api.Controllers.v1.DepartmentsController (Cyon.Api).
2022-12-19 15:20:31.804 +01:00 [INF] Executed action Cyon.Api.Controllers.v1.DepartmentsController.GetDepartments (Cyon.Api) in 311.0783ms
2022-12-19 15:20:31.924 +01:00 [INF] Executed endpoint 'Cyon.Api.Controllers.v1.DepartmentsController.GetDepartments (Cyon.Api)'
2022-12-19 15:20:32.295 +01:00 [ERR] Error processing request
2022-12-19 15:20:32.295 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/api/v1/departments - - - 500 - application/json 1074.0090ms
2022-12-19 15:21:44.684 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-19 15:21:45.486 +01:00 [INF] Now listening on: https://localhost:7271
2022-12-19 15:21:45.487 +01:00 [INF] Now listening on: http://localhost:5059
2022-12-19 15:21:45.494 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-19 15:21:45.494 +01:00 [INF] Hosting environment: Development
2022-12-19 15:21:45.494 +01:00 [INF] Content root path: C:\Users\HP\Desktop\Paid-Projects\Cyon\Cyon.Api\
2022-12-19 15:21:46.523 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/swagger/index.html - -
2022-12-19 15:21:47.455 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/_framework/aspnetcore-browser-refresh.js - -
2022-12-19 15:21:47.474 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/swagger/index.html - - - 200 - text/html;charset=utf-8 962.3320ms
2022-12-19 15:21:47.474 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/_framework/aspnetcore-browser-refresh.js - - - 200 11986 application/javascript;+charset=utf-8 15.4824ms
2022-12-19 15:21:47.526 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/_vs/browserLink - -
2022-12-19 15:21:47.586 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 59.1244ms
2022-12-19 15:21:47.822 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/swagger/v1/swagger.json - -
2022-12-19 15:21:48.203 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 380.3824ms
2022-12-19 15:22:09.294 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/api/v1/departments - -
2022-12-19 15:22:10.179 +01:00 [INF] Executing endpoint 'Cyon.Api.Controllers.v1.DepartmentsController.GetDepartments (Cyon.Api)'
2022-12-19 15:22:10.310 +01:00 [INF] Route matched with {action = "GetDepartments", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Cyon.Domain.Models.Department.DepartmentModel]]] GetDepartments(Cyon.Domain.Common.Pagination) on controller Cyon.Api.Controllers.v1.DepartmentsController (Cyon.Api).
2022-12-19 15:22:15.341 +01:00 [INF] Entity Framework Core 6.0.11 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2022-12-19 15:22:16.206 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-19 15:22:16.209 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-19 15:22:18.107 +01:00 [INF] Executed DbCommand (248ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Name]
FROM [Departments] AS [d]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-19 15:22:18.312 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Cyon.Domain.Models.Department.DepartmentModel, Cyon.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-12-19 15:22:18.585 +01:00 [INF] Executed action Cyon.Api.Controllers.v1.DepartmentsController.GetDepartments (Cyon.Api) in 8259.1465ms
2022-12-19 15:22:18.589 +01:00 [INF] Executed endpoint 'Cyon.Api.Controllers.v1.DepartmentsController.GetDepartments (Cyon.Api)'
2022-12-19 15:22:18.616 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/api/v1/departments - - - 200 2 application/json;+charset=utf-8 9322.4234ms
2022-12-19 15:22:53.310 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7271/api/v1/departments application/json-patch+json 25
2022-12-19 15:22:53.333 +01:00 [INF] CORS policy execution failed.
2022-12-19 15:22:53.334 +01:00 [INF] Request origin https://localhost:7271 does not have permission to access the resource.
2022-12-19 15:22:53.341 +01:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Executive)
2022-12-19 15:22:53.347 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2022-12-19 15:22:53.348 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7271/api/v1/departments application/json-patch+json 25 - 403 0 - 39.3572ms
2022-12-19 15:23:21.272 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7271/api/v1/departments application/json-patch+json 20
2022-12-19 15:23:21.280 +01:00 [INF] CORS policy execution failed.
2022-12-19 15:23:21.280 +01:00 [INF] Request origin https://localhost:7271 does not have permission to access the resource.
2022-12-19 15:23:21.287 +01:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Executive)
2022-12-19 15:23:21.287 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2022-12-19 15:23:21.288 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7271/api/v1/departments application/json-patch+json 20 - 403 0 - 16.4754ms
2022-12-19 15:23:40.351 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/api/v1/authentication/account - -
2022-12-19 15:23:40.352 +01:00 [INF] Executing endpoint 'Cyon.Api.Controllers.v1.AuthenticationController.GetAccount (Cyon.Api)'
2022-12-19 15:23:40.360 +01:00 [INF] Route matched with {action = "GetAccount", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Cyon.Domain.Models.Authentication.AccountModel]] GetAccount() on controller Cyon.Api.Controllers.v1.AuthenticationController (Cyon.Api).
2022-12-19 15:23:40.398 +01:00 [INF] Entity Framework Core 6.0.11 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2022-12-19 15:23:40.672 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PhotoUrl], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2022-12-19 15:23:41.168 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2022-12-19 15:23:41.183 +01:00 [INF] Executing OkObjectResult, writing value of type 'Cyon.Domain.Models.Authentication.AccountModel'.
2022-12-19 15:23:41.256 +01:00 [INF] Executed action Cyon.Api.Controllers.v1.AuthenticationController.GetAccount (Cyon.Api) in 895.5646ms
2022-12-19 15:23:41.256 +01:00 [INF] Executed endpoint 'Cyon.Api.Controllers.v1.AuthenticationController.GetAccount (Cyon.Api)'
2022-12-19 15:23:41.264 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/api/v1/authentication/account - - - 200 243 application/json;+charset=utf-8 913.6783ms
2022-12-19 15:24:39.184 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7271/api/v1/authentication/account/08c28966-0c91-4860-a0b9-b37bee9cba56/change-role application/json-patch+json 17
2022-12-19 15:24:39.191 +01:00 [INF] CORS policy execution failed.
2022-12-19 15:24:39.191 +01:00 [INF] Request origin https://localhost:7271 does not have permission to access the resource.
2022-12-19 15:24:39.191 +01:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Executive)
2022-12-19 15:24:39.192 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2022-12-19 15:24:39.192 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7271/api/v1/authentication/account/08c28966-0c91-4860-a0b9-b37bee9cba56/change-role application/json-patch+json 17 - 403 0 - 7.4656ms
2022-12-19 15:25:58.109 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-19 15:25:58.906 +01:00 [INF] Now listening on: https://localhost:7271
2022-12-19 15:25:58.907 +01:00 [INF] Now listening on: http://localhost:5059
2022-12-19 15:25:58.914 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-19 15:25:58.914 +01:00 [INF] Hosting environment: Development
2022-12-19 15:25:58.914 +01:00 [INF] Content root path: C:\Users\HP\Desktop\Paid-Projects\Cyon\Cyon.Api\
2022-12-19 15:26:00.215 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/swagger/index.html - -
2022-12-19 15:26:01.055 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/_framework/aspnetcore-browser-refresh.js - -
2022-12-19 15:26:01.081 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/_framework/aspnetcore-browser-refresh.js - - - 200 11986 application/javascript;+charset=utf-8 23.9608ms
2022-12-19 15:26:01.153 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/_vs/browserLink - -
2022-12-19 15:26:01.165 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/swagger/index.html - - - 200 - text/html;charset=utf-8 962.0373ms
2022-12-19 15:26:01.270 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 116.9260ms
2022-12-19 15:26:01.435 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/swagger/v1/swagger.json - -
2022-12-19 15:26:01.835 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 399.3295ms
2022-12-19 15:26:53.257 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/api/v1/authentication/account - -
2022-12-19 15:26:54.098 +01:00 [INF] Executing endpoint 'Cyon.Api.Controllers.v1.AuthenticationController.GetAccount (Cyon.Api)'
2022-12-19 15:26:54.137 +01:00 [INF] Route matched with {action = "GetAccount", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Cyon.Domain.Models.Authentication.AccountModel]] GetAccount() on controller Cyon.Api.Controllers.v1.AuthenticationController (Cyon.Api).
2022-12-19 15:26:59.068 +01:00 [INF] Entity Framework Core 6.0.11 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2022-12-19 15:27:02.253 +01:00 [INF] Executed DbCommand (247ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PhotoUrl], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2022-12-19 15:27:02.877 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2022-12-19 15:27:02.947 +01:00 [INF] Executing OkObjectResult, writing value of type 'Cyon.Domain.Models.Authentication.AccountModel'.
2022-12-19 15:27:03.326 +01:00 [INF] Executed action Cyon.Api.Controllers.v1.AuthenticationController.GetAccount (Cyon.Api) in 9176.9084ms
2022-12-19 15:27:03.330 +01:00 [INF] Executed endpoint 'Cyon.Api.Controllers.v1.AuthenticationController.GetAccount (Cyon.Api)'
2022-12-19 15:27:03.359 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/api/v1/authentication/account - - - 200 243 application/json;+charset=utf-8 10101.6931ms
2022-12-19 15:27:33.023 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7271/api/v1/authentication/account/08c28966-0c91-4860-a0b9-b37bee9cba56/change-role application/json-patch+json 17
2022-12-19 15:27:33.052 +01:00 [INF] CORS policy execution failed.
2022-12-19 15:27:33.052 +01:00 [INF] Request origin https://localhost:7271 does not have permission to access the resource.
2022-12-19 15:27:33.056 +01:00 [INF] Executing endpoint 'Cyon.Api.Controllers.v1.AuthenticationController.ChangeRole (Cyon.Api)'
2022-12-19 15:27:33.095 +01:00 [INF] Route matched with {action = "ChangeRole", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeRole(System.Guid, System.Collections.Generic.IEnumerable`1[System.String]) on controller Cyon.Api.Controllers.v1.AuthenticationController (Cyon.Api).
2022-12-19 15:27:33.397 +01:00 [INF] Entity Framework Core 6.0.11 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2022-12-19 15:27:33.408 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PhotoUrl], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2022-12-19 15:27:33.468 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2022-12-19 15:27:33.522 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2022-12-19 15:27:33.538 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2022-12-19 15:27:33.697 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PhotoUrl], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2022-12-19 15:27:33.741 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PhotoUrl], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2022-12-19 15:27:34.387 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
2022-12-19 15:27:34.616 +01:00 [INF] Executed DbCommand (168ms) [Parameters=[@p19='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p20='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [DateAdded] = @p2, [DateOfBirth] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FirstName] = @p6, [LastName] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [PhotoUrl] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
SELECT @@ROWCOUNT;
2022-12-19 15:27:34.819 +01:00 [INF] Executing StatusCodeResult, setting HTTP status code 201
2022-12-19 15:27:34.820 +01:00 [INF] Executed action Cyon.Api.Controllers.v1.AuthenticationController.ChangeRole (Cyon.Api) in 1724.3748ms
2022-12-19 15:27:34.820 +01:00 [INF] Executed endpoint 'Cyon.Api.Controllers.v1.AuthenticationController.ChangeRole (Cyon.Api)'
2022-12-19 15:27:34.822 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7271/api/v1/authentication/account/08c28966-0c91-4860-a0b9-b37bee9cba56/change-role application/json-patch+json 17 - 201 0 - 1799.5273ms
2022-12-19 15:27:46.544 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/api/v1/authentication/account - -
2022-12-19 15:27:46.551 +01:00 [INF] Executing endpoint 'Cyon.Api.Controllers.v1.AuthenticationController.GetAccount (Cyon.Api)'
2022-12-19 15:27:46.551 +01:00 [INF] Route matched with {action = "GetAccount", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Cyon.Domain.Models.Authentication.AccountModel]] GetAccount() on controller Cyon.Api.Controllers.v1.AuthenticationController (Cyon.Api).
2022-12-19 15:27:46.594 +01:00 [INF] Entity Framework Core 6.0.11 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2022-12-19 15:27:46.631 +01:00 [INF] Executed DbCommand (34ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PhotoUrl], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2022-12-19 15:27:46.640 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2022-12-19 15:27:46.641 +01:00 [INF] Executing OkObjectResult, writing value of type 'Cyon.Domain.Models.Authentication.AccountModel'.
2022-12-19 15:27:46.642 +01:00 [INF] Executed action Cyon.Api.Controllers.v1.AuthenticationController.GetAccount (Cyon.Api) in 90.463ms
2022-12-19 15:27:46.642 +01:00 [INF] Executed endpoint 'Cyon.Api.Controllers.v1.AuthenticationController.GetAccount (Cyon.Api)'
2022-12-19 15:27:46.642 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/api/v1/authentication/account - - - 200 254 application/json;+charset=utf-8 98.5362ms
2022-12-19 15:28:53.832 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-19 15:28:54.635 +01:00 [INF] Now listening on: https://localhost:7271
2022-12-19 15:28:54.635 +01:00 [INF] Now listening on: http://localhost:5059
2022-12-19 15:28:54.641 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-19 15:28:54.642 +01:00 [INF] Hosting environment: Development
2022-12-19 15:28:54.642 +01:00 [INF] Content root path: C:\Users\HP\Desktop\Paid-Projects\Cyon\Cyon.Api\
2022-12-19 15:28:56.174 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/swagger/index.html - -
2022-12-19 15:28:57.110 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/_framework/aspnetcore-browser-refresh.js - -
2022-12-19 15:28:57.123 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/_framework/aspnetcore-browser-refresh.js - - - 200 11986 application/javascript;+charset=utf-8 11.6129ms
2022-12-19 15:28:57.123 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/swagger/index.html - - - 200 - text/html;charset=utf-8 959.6657ms
2022-12-19 15:28:57.184 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/_vs/browserLink - -
2022-12-19 15:28:57.248 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 63.4522ms
2022-12-19 15:28:57.488 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/swagger/v1/swagger.json - -
2022-12-19 15:28:57.917 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 428.9190ms
2022-12-19 15:29:24.976 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7271/api/v1/authentication/login application/json-patch+json 65
2022-12-19 15:29:24.987 +01:00 [INF] CORS policy execution failed.
2022-12-19 15:29:24.987 +01:00 [INF] Request origin https://localhost:7271 does not have permission to access the resource.
2022-12-19 15:29:25.189 +01:00 [INF] Executing endpoint 'Cyon.Api.Controllers.v1.AuthenticationController.LoginUser (Cyon.Api)'
2022-12-19 15:29:25.274 +01:00 [INF] Route matched with {action = "LoginUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(Cyon.Domain.DTOs.Authentication.UserForAuthenticationDto) on controller Cyon.Api.Controllers.v1.AuthenticationController (Cyon.Api).
2022-12-19 15:29:31.353 +01:00 [INF] Entity Framework Core 6.0.11 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2022-12-19 15:29:35.130 +01:00 [INF] Executed DbCommand (445ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PhotoUrl], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2022-12-19 15:29:36.120 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2022-12-19 15:29:36.533 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-12-19 15:29:36.691 +01:00 [INF] Executed action Cyon.Api.Controllers.v1.AuthenticationController.LoginUser (Cyon.Api) in 11403.3281ms
2022-12-19 15:29:36.694 +01:00 [INF] Executed endpoint 'Cyon.Api.Controllers.v1.AuthenticationController.LoginUser (Cyon.Api)'
2022-12-19 15:29:36.725 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7271/api/v1/authentication/login application/json-patch+json 65 - 200 382 application/json;+charset=utf-8 11748.8437ms
2022-12-19 15:34:42.225 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/api/v1/authentication/account - -
2022-12-19 15:34:42.500 +01:00 [INF] Executing endpoint 'Cyon.Api.Controllers.v1.AuthenticationController.GetAccount (Cyon.Api)'
2022-12-19 15:34:42.509 +01:00 [INF] Route matched with {action = "GetAccount", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Cyon.Domain.Models.Authentication.AccountModel]] GetAccount() on controller Cyon.Api.Controllers.v1.AuthenticationController (Cyon.Api).
2022-12-19 15:34:42.651 +01:00 [INF] Entity Framework Core 6.0.11 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2022-12-19 15:34:42.701 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PhotoUrl], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2022-12-19 15:34:42.729 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2022-12-19 15:34:42.770 +01:00 [INF] Executing OkObjectResult, writing value of type 'Cyon.Domain.Models.Authentication.AccountModel'.
2022-12-19 15:34:42.807 +01:00 [INF] Executed action Cyon.Api.Controllers.v1.AuthenticationController.GetAccount (Cyon.Api) in 297.7464ms
2022-12-19 15:34:42.807 +01:00 [INF] Executed endpoint 'Cyon.Api.Controllers.v1.AuthenticationController.GetAccount (Cyon.Api)'
2022-12-19 15:34:42.824 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/api/v1/authentication/account - - - 200 254 application/json;+charset=utf-8 598.9474ms
2022-12-19 15:35:06.134 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7271/api/v1/departments application/json-patch+json 20
2022-12-19 15:35:06.151 +01:00 [INF] CORS policy execution failed.
2022-12-19 15:35:06.151 +01:00 [INF] Request origin https://localhost:7271 does not have permission to access the resource.
2022-12-19 15:35:06.159 +01:00 [INF] Executing endpoint 'Cyon.Api.Controllers.v1.DepartmentsController.AddDepartment (Cyon.Api)'
2022-12-19 15:35:06.168 +01:00 [INF] Route matched with {action = "AddDepartment", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Cyon.Domain.Models.Department.DepartmentModel]] AddDepartment(Cyon.Domain.DTOs.Department.DepartmentCreateDto) on controller Cyon.Api.Controllers.v1.DepartmentsController (Cyon.Api).
2022-12-19 15:35:06.232 +01:00 [INF] Entity Framework Core 6.0.11 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2022-12-19 15:35:06.812 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Departments] ([Id], [Name])
VALUES (@p0, @p1);
2022-12-19 15:35:06.944 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'Cyon.Domain.Models.Department.DepartmentModel'.
2022-12-19 15:35:07.073 +01:00 [INF] Executed action Cyon.Api.Controllers.v1.DepartmentsController.AddDepartment (Cyon.Api) in 905.1481ms
2022-12-19 15:35:07.074 +01:00 [INF] Executed endpoint 'Cyon.Api.Controllers.v1.DepartmentsController.AddDepartment (Cyon.Api)'
2022-12-19 15:35:07.091 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7271/api/v1/departments application/json-patch+json 20 - 201 59 application/json;+charset=utf-8 956.7207ms
2022-12-19 15:35:28.870 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7271/api/v1/departments application/json-patch+json 33
2022-12-19 15:35:28.871 +01:00 [INF] CORS policy execution failed.
2022-12-19 15:35:28.873 +01:00 [INF] Request origin https://localhost:7271 does not have permission to access the resource.
2022-12-19 15:35:28.882 +01:00 [INF] Executing endpoint 'Cyon.Api.Controllers.v1.DepartmentsController.AddDepartment (Cyon.Api)'
2022-12-19 15:35:28.882 +01:00 [INF] Route matched with {action = "AddDepartment", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Cyon.Domain.Models.Department.DepartmentModel]] AddDepartment(Cyon.Domain.DTOs.Department.DepartmentCreateDto) on controller Cyon.Api.Controllers.v1.DepartmentsController (Cyon.Api).
2022-12-19 15:35:28.888 +01:00 [INF] Entity Framework Core 6.0.11 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2022-12-19 15:35:28.896 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Departments] ([Id], [Name])
VALUES (@p0, @p1);
2022-12-19 15:35:28.900 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'Cyon.Domain.Models.Department.DepartmentModel'.
2022-12-19 15:35:28.901 +01:00 [INF] Executed action Cyon.Api.Controllers.v1.DepartmentsController.AddDepartment (Cyon.Api) in 19.2738ms
2022-12-19 15:35:28.901 +01:00 [INF] Executed endpoint 'Cyon.Api.Controllers.v1.DepartmentsController.AddDepartment (Cyon.Api)'
2022-12-19 15:35:28.902 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7271/api/v1/departments application/json-patch+json 33 - 201 72 application/json;+charset=utf-8 31.6929ms
2022-12-19 15:35:43.584 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/api/v1/departments - -
2022-12-19 15:35:43.586 +01:00 [INF] Executing endpoint 'Cyon.Api.Controllers.v1.DepartmentsController.GetDepartments (Cyon.Api)'
2022-12-19 15:35:43.595 +01:00 [INF] Route matched with {action = "GetDepartments", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Cyon.Domain.Models.Department.DepartmentModel]]] GetDepartments(Cyon.Domain.Common.Pagination) on controller Cyon.Api.Controllers.v1.DepartmentsController (Cyon.Api).
2022-12-19 15:35:43.626 +01:00 [INF] Entity Framework Core 6.0.11 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2022-12-19 15:35:43.667 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-19 15:35:43.670 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-19 15:35:43.687 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Name]
FROM [Departments] AS [d]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-19 15:35:43.715 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Cyon.Domain.Models.Department.DepartmentModel, Cyon.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-12-19 15:35:43.716 +01:00 [INF] Executed action Cyon.Api.Controllers.v1.DepartmentsController.GetDepartments (Cyon.Api) in 121.7117ms
2022-12-19 15:35:43.717 +01:00 [INF] Executed endpoint 'Cyon.Api.Controllers.v1.DepartmentsController.GetDepartments (Cyon.Api)'
2022-12-19 15:35:43.717 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/api/v1/departments - - - 200 134 application/json;+charset=utf-8 132.9628ms
2022-12-19 15:36:14.925 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7271/api/v1/departments application/json-patch+json 23
2022-12-19 15:36:14.926 +01:00 [INF] CORS policy execution failed.
2022-12-19 15:36:14.926 +01:00 [INF] Request origin https://localhost:7271 does not have permission to access the resource.
2022-12-19 15:36:14.929 +01:00 [INF] Executing endpoint 'Cyon.Api.Controllers.v1.DepartmentsController.AddDepartment (Cyon.Api)'
2022-12-19 15:36:14.937 +01:00 [INF] Route matched with {action = "AddDepartment", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Cyon.Domain.Models.Department.DepartmentModel]] AddDepartment(Cyon.Domain.DTOs.Department.DepartmentCreateDto) on controller Cyon.Api.Controllers.v1.DepartmentsController (Cyon.Api).
2022-12-19 15:36:14.946 +01:00 [INF] Entity Framework Core 6.0.11 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2022-12-19 15:36:14.955 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Departments] ([Id], [Name])
VALUES (@p0, @p1);
2022-12-19 15:36:14.962 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'Cyon.Domain.Models.Department.DepartmentModel'.
2022-12-19 15:36:14.963 +01:00 [INF] Executed action Cyon.Api.Controllers.v1.DepartmentsController.AddDepartment (Cyon.Api) in 25.6481ms
2022-12-19 15:36:14.963 +01:00 [INF] Executed endpoint 'Cyon.Api.Controllers.v1.DepartmentsController.AddDepartment (Cyon.Api)'
2022-12-19 15:36:14.964 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7271/api/v1/departments application/json-patch+json 23 - 201 62 application/json;+charset=utf-8 38.8269ms
2022-12-19 15:36:30.130 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/api/v1/departments - -
2022-12-19 15:36:30.131 +01:00 [INF] Executing endpoint 'Cyon.Api.Controllers.v1.DepartmentsController.GetDepartments (Cyon.Api)'
2022-12-19 15:36:30.131 +01:00 [INF] Route matched with {action = "GetDepartments", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Cyon.Domain.Models.Department.DepartmentModel]]] GetDepartments(Cyon.Domain.Common.Pagination) on controller Cyon.Api.Controllers.v1.DepartmentsController (Cyon.Api).
2022-12-19 15:36:30.133 +01:00 [INF] Entity Framework Core 6.0.11 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2022-12-19 15:36:30.139 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Name]
FROM [Departments] AS [d]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-19 15:36:30.140 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Cyon.Domain.Models.Department.DepartmentModel, Cyon.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-12-19 15:36:30.140 +01:00 [INF] Executed action Cyon.Api.Controllers.v1.DepartmentsController.GetDepartments (Cyon.Api) in 9.0524ms
2022-12-19 15:36:30.140 +01:00 [INF] Executed endpoint 'Cyon.Api.Controllers.v1.DepartmentsController.GetDepartments (Cyon.Api)'
2022-12-19 15:36:30.140 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/api/v1/departments - - - 200 197 application/json;+charset=utf-8 11.3914ms
2022-12-19 15:37:14.761 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7271/api/v1/departments application/json-patch+json 79
2022-12-19 15:37:14.798 +01:00 [INF] CORS policy execution failed.
2022-12-19 15:37:14.798 +01:00 [INF] Request origin https://localhost:7271 does not have permission to access the resource.
2022-12-19 15:37:14.801 +01:00 [INF] Executing endpoint 'Cyon.Api.Controllers.v1.DepartmentsController.UpdateDepartment (Cyon.Api)'
2022-12-19 15:37:14.812 +01:00 [INF] Route matched with {action = "UpdateDepartment", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDepartment(Cyon.Domain.DTOs.Department.DepartmentUpdateDto) on controller Cyon.Api.Controllers.v1.DepartmentsController (Cyon.Api).
2022-12-19 15:37:14.842 +01:00 [INF] Entity Framework Core 6.0.11 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2022-12-19 15:37:14.853 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Name]
FROM [Departments] AS [d]
WHERE [d].[Id] = @__id_0
2022-12-19 15:37:14.892 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Departments] SET [Name] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2022-12-19 15:37:14.913 +01:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2022-12-19 15:37:14.914 +01:00 [INF] Executed action Cyon.Api.Controllers.v1.DepartmentsController.UpdateDepartment (Cyon.Api) in 101.6362ms
2022-12-19 15:37:14.914 +01:00 [INF] Executed endpoint 'Cyon.Api.Controllers.v1.DepartmentsController.UpdateDepartment (Cyon.Api)'
2022-12-19 15:37:14.914 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7271/api/v1/departments application/json-patch+json 79 - 200 0 - 153.6382ms
2022-12-19 15:37:22.904 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/api/v1/departments - -
2022-12-19 15:37:22.905 +01:00 [INF] Executing endpoint 'Cyon.Api.Controllers.v1.DepartmentsController.GetDepartments (Cyon.Api)'
2022-12-19 15:37:22.905 +01:00 [INF] Route matched with {action = "GetDepartments", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Cyon.Domain.Models.Department.DepartmentModel]]] GetDepartments(Cyon.Domain.Common.Pagination) on controller Cyon.Api.Controllers.v1.DepartmentsController (Cyon.Api).
2022-12-19 15:37:22.906 +01:00 [INF] Entity Framework Core 6.0.11 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2022-12-19 15:37:22.913 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Name]
FROM [Departments] AS [d]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-19 15:37:22.914 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Cyon.Domain.Models.Department.DepartmentModel, Cyon.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-12-19 15:37:22.914 +01:00 [INF] Executed action Cyon.Api.Controllers.v1.DepartmentsController.GetDepartments (Cyon.Api) in 9.1933ms
2022-12-19 15:37:22.914 +01:00 [INF] Executed endpoint 'Cyon.Api.Controllers.v1.DepartmentsController.GetDepartments (Cyon.Api)'
2022-12-19 15:37:22.915 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/api/v1/departments - - - 200 205 application/json;+charset=utf-8 10.8804ms
2022-12-19 15:37:38.499 +01:00 [INF] Request starting HTTP/2 DELETE https://localhost:7271/api/v1/departments/2cec4ec5-206a-4332-9393-08dae1ce3911 - -
2022-12-19 15:37:38.500 +01:00 [INF] CORS policy execution failed.
2022-12-19 15:37:38.500 +01:00 [INF] Request origin https://localhost:7271 does not have permission to access the resource.
2022-12-19 15:37:38.500 +01:00 [INF] Executing endpoint 'Cyon.Api.Controllers.v1.DepartmentsController.DeleteDepartment (Cyon.Api)'
2022-12-19 15:37:38.507 +01:00 [INF] Route matched with {action = "DeleteDepartment", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteDepartment(System.Guid) on controller Cyon.Api.Controllers.v1.DepartmentsController (Cyon.Api).
2022-12-19 15:37:38.513 +01:00 [INF] Entity Framework Core 6.0.11 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2022-12-19 15:37:38.520 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Name]
FROM [Departments] AS [d]
WHERE [d].[Id] = @__id_0
2022-12-19 15:37:38.554 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Departments]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;
2022-12-19 15:37:38.576 +01:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2022-12-19 15:37:38.576 +01:00 [INF] Executed action Cyon.Api.Controllers.v1.DepartmentsController.DeleteDepartment (Cyon.Api) in 69.0544ms
2022-12-19 15:37:38.576 +01:00 [INF] Executed endpoint 'Cyon.Api.Controllers.v1.DepartmentsController.DeleteDepartment (Cyon.Api)'
2022-12-19 15:37:38.576 +01:00 [INF] Request finished HTTP/2 DELETE https://localhost:7271/api/v1/departments/2cec4ec5-206a-4332-9393-08dae1ce3911 - - - 204 - - 77.2525ms
2022-12-19 15:37:41.451 +01:00 [INF] Request starting HTTP/2 DELETE https://localhost:7271/api/v1/departments/2cec4ec5-206a-4332-9393-08dae1ce3911 - -
2022-12-19 15:37:41.451 +01:00 [INF] CORS policy execution failed.
2022-12-19 15:37:41.451 +01:00 [INF] Request origin https://localhost:7271 does not have permission to access the resource.
2022-12-19 15:37:41.451 +01:00 [INF] Executing endpoint 'Cyon.Api.Controllers.v1.DepartmentsController.DeleteDepartment (Cyon.Api)'
2022-12-19 15:37:41.451 +01:00 [INF] Route matched with {action = "DeleteDepartment", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteDepartment(System.Guid) on controller Cyon.Api.Controllers.v1.DepartmentsController (Cyon.Api).
2022-12-19 15:37:41.453 +01:00 [INF] Entity Framework Core 6.0.11 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2022-12-19 15:37:41.456 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Name]
FROM [Departments] AS [d]
WHERE [d].[Id] = @__id_0
2022-12-19 15:37:42.652 +01:00 [INF] Executed action Cyon.Api.Controllers.v1.DepartmentsController.DeleteDepartment (Cyon.Api) in 1200.6655ms
2022-12-19 15:37:43.020 +01:00 [INF] Executed endpoint 'Cyon.Api.Controllers.v1.DepartmentsController.DeleteDepartment (Cyon.Api)'
2022-12-19 15:37:44.195 +01:00 [ERR] Error processing request
2022-12-19 15:37:44.196 +01:00 [INF] Request finished HTTP/2 DELETE https://localhost:7271/api/v1/departments/2cec4ec5-206a-4332-9393-08dae1ce3911 - - - 404 - application/json 2745.2123ms
2022-12-19 16:02:26.892 +01:00 [INF] Entity Framework Core 6.0.11 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2022-12-19 16:02:47.952 +01:00 [INF] Entity Framework Core 6.0.11 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2022-12-19 16:02:48.296 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-19 16:02:48.332 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-19 16:02:48.335 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-19 16:02:48.336 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-19 16:02:48.394 +01:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-19 16:02:48.411 +01:00 [INF] Applying migration '20221219150227_AddedUserDepartmentRelationship'.
2022-12-19 16:02:48.534 +01:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'3010ff39-a5bb-4447-8faf-a03165647ba2';
SELECT @@ROWCOUNT;
2022-12-19 16:02:48.540 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'7cbb1063-6656-4263-aee5-94356a096ab8';
SELECT @@ROWCOUNT;
2022-12-19 16:02:48.629 +01:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'e743c7a5-85ee-4fa3-983a-cfd67a716654';
SELECT @@ROWCOUNT;
2022-12-19 16:02:49.132 +01:00 [INF] Executed DbCommand (503ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Chaplains]') AND [c].[name] = N'DateAdded');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Chaplains] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Chaplains] ADD DEFAULT '2022-12-19T16:02:26.9444505+01:00' FOR [DateAdded];
2022-12-19 16:02:49.428 +01:00 [INF] Executed DbCommand (295ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [AspNetUsers] ADD [DepartmentId] uniqueidentifier NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2022-12-19 16:02:49.489 +01:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Announcements]') AND [c].[name] = N'DateAdded');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Announcements] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Announcements] ADD DEFAULT '2022-12-19T16:02:26.9445532+01:00' FOR [DateAdded];
2022-12-19 16:02:49.533 +01:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (N'5ad94956-8f9f-45dd-873f-28edfa5022ce', N'3ef0c7c9-be1b-4153-ac4a-bbfa014b2720', N'Executive', N'EXECUTIVE');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2022-12-19 16:02:49.552 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (N'5bb1a800-4cfa-4ed4-9b02-0c52dc62c7e8', N'94893179-9a95-4f5c-bd4a-b5b3f71f6620', N'Member', N'MEMBER');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2022-12-19 16:02:49.572 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (N'eee9913b-e36b-4d9e-b2c4-b8fdddeeb9a3', N'f4547b34-9554-4030-9a85-64b2bf372734', N'Super', N'SUPER');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2022-12-19 16:02:50.331 +01:00 [INF] Executed DbCommand (759ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUsers_DepartmentId] ON [AspNetUsers] ([DepartmentId]);
2022-12-19 16:02:50.780 +01:00 [ERR] Failed executing DbCommand (448ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [AspNetUsers] ADD CONSTRAINT [FK_AspNetUsers_Departments_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Departments] ([Id]) ON DELETE CASCADE;
2022-12-19 16:05:48.773 +01:00 [INF] Entity Framework Core 6.0.11 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2022-12-19 16:06:50.438 +01:00 [INF] Entity Framework Core 6.0.11 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2022-12-19 16:06:52.597 +01:00 [INF] Executed DbCommand (1,822ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [Cyon_Shomolu];
2022-12-19 16:06:53.200 +01:00 [INF] Executed DbCommand (599ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [Cyon_Shomolu] SET READ_COMMITTED_SNAPSHOT ON;
END;
2022-12-19 16:06:53.222 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-19 16:06:53.335 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2022-12-19 16:06:53.337 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-19 16:06:53.361 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-19 16:06:53.367 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-19 16:06:53.388 +01:00 [INF] Applying migration '20221219150549_AddedUserDepartmentRelationship'.
2022-12-19 16:06:53.480 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Announcements] (
    [Id] uniqueidentifier NOT NULL,
    [Title] nvarchar(256) NOT NULL,
    [Content] nvarchar(max) NOT NULL,
    [PhotoUrl] nvarchar(max) NULL DEFAULT N'',
    [DateAdded] datetime2 NOT NULL DEFAULT '2022-12-19T16:05:48.8228062+01:00',
    [IsActive] bit NOT NULL,
    [ModifiedBy] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_Announcements] PRIMARY KEY ([Id])
);
2022-12-19 16:06:53.483 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2022-12-19 16:06:53.484 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AttendanceTypes] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(100) NULL,
    CONSTRAINT [PK_AttendanceTypes] PRIMARY KEY ([Id])
);
2022-12-19 16:06:53.486 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Chaplains] (
    [Id] uniqueidentifier NOT NULL,
    [Fullname] nvarchar(128) NOT NULL,
    [ImageUrl] nvarchar(256) NOT NULL,
    [StartYear] nvarchar(4) NOT NULL,
    [EndYear] nvarchar(7) NOT NULL,
    [DateAdded] datetime2 NOT NULL DEFAULT '2022-12-19T16:05:48.8227062+01:00',
    [ModifiedBy] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_Chaplains] PRIMARY KEY ([Id])
);
2022-12-19 16:06:53.488 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Departments] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(100) NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([Id])
);
2022-12-19 16:06:53.490 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Meetings] (
    [Id] uniqueidentifier NOT NULL,
    [Date] datetime2 NOT NULL,
    [ProposedDurationInMinutes] float NOT NULL,
    [ModifiedBy] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_Meetings] PRIMARY KEY ([Id])
);
2022-12-19 16:06:53.492 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Minutes] (
    [Id] uniqueidentifier NOT NULL,
    [Content] nvarchar(max) NULL,
    [DateOfMeeting] datetime2 NOT NULL,
    [ModifiedBy] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_Minutes] PRIMARY KEY ([Id])
);
2022-12-19 16:06:53.582 +01:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2022-12-19 16:06:53.585 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [FirstName] nvarchar(max) NULL,
    [LastName] nvarchar(max) NULL,
    [PhotoUrl] nvarchar(max) NULL,
    [DateOfBirth] datetime2 NOT NULL,
    [DateAdded] datetime2 NOT NULL,
    [DepartmentId] uniqueidentifier NOT NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUsers_Departments_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Departments] ([Id]) ON DELETE CASCADE
);
2022-12-19 16:06:53.588 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Agenda] (
    [Id] uniqueidentifier NOT NULL,
    [Title] nvarchar(max) NULL,
    [Description] nvarchar(max) NULL,
    [MeetingId] uniqueidentifier NULL,
    CONSTRAINT [PK_Agenda] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Agenda_Meetings_MeetingId] FOREIGN KEY ([MeetingId]) REFERENCES [Meetings] ([Id]) ON DELETE CASCADE
);
2022-12-19 16:06:53.590 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2022-12-19 16:06:53.614 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2022-12-19 16:06:53.617 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2022-12-19 16:06:53.635 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2022-12-19 16:06:53.680 +01:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (N'08cd4630-d1b0-4343-a00c-a58d50a7a98b', N'fe8f1e8b-33e7-4f38-9c78-2e689340dc07', N'Super', N'SUPER');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2022-12-19 16:06:53.689 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (N'2094fa17-17de-4284-a628-b04e7f1cea96', N'cec2bb6e-a24b-42e5-94bc-215c980ebb66', N'Member', N'MEMBER');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2022-12-19 16:06:53.700 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (N'9289312c-5297-4257-bcd3-a8247382625b', N'70f259ac-7299-441e-b4c9-1b5f00772e70', N'Executive', N'EXECUTIVE');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2022-12-19 16:06:53.701 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Agenda_MeetingId] ON [Agenda] ([MeetingId]);
2022-12-19 16:06:53.702 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2022-12-19 16:06:53.757 +01:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2022-12-19 16:06:53.758 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2022-12-19 16:06:53.759 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2022-12-19 16:06:53.760 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2022-12-19 16:06:53.761 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2022-12-19 16:06:53.762 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUsers_DepartmentId] ON [AspNetUsers] ([DepartmentId]);
2022-12-19 16:06:53.763 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2022-12-19 16:06:53.765 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20221219150549_AddedUserDepartmentRelationship', N'6.0.11');
2022-12-19 16:18:17.026 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-19 16:18:17.588 +01:00 [INF] Now listening on: https://localhost:7271
2022-12-19 16:18:17.588 +01:00 [INF] Now listening on: http://localhost:5059
2022-12-19 16:18:17.593 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-19 16:18:17.594 +01:00 [INF] Hosting environment: Development
2022-12-19 16:18:17.594 +01:00 [INF] Content root path: C:\Users\HP\Desktop\Paid-Projects\Cyon\Cyon.Api\
2022-12-19 16:18:18.595 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/swagger/index.html - -
2022-12-19 16:18:19.333 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/swagger/index.html - - - 200 - text/html;charset=utf-8 745.3881ms
2022-12-19 16:18:19.392 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/_vs/browserLink - -
2022-12-19 16:18:19.392 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/_framework/aspnetcore-browser-refresh.js - -
2022-12-19 16:18:19.415 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/_framework/aspnetcore-browser-refresh.js - - - 200 11986 application/javascript;+charset=utf-8 20.6831ms
2022-12-19 16:18:19.491 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 98.6367ms
2022-12-19 16:18:19.629 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/swagger/v1/swagger.json - -
2022-12-19 16:18:19.950 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 321.0382ms
2022-12-19 16:20:07.522 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-19 16:20:08.049 +01:00 [INF] Now listening on: https://localhost:7271
2022-12-19 16:20:08.050 +01:00 [INF] Now listening on: http://localhost:5059
2022-12-19 16:20:08.054 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-19 16:20:08.054 +01:00 [INF] Hosting environment: Development
2022-12-19 16:20:08.054 +01:00 [INF] Content root path: C:\Users\HP\Desktop\Paid-Projects\Cyon\Cyon.Api\
2022-12-19 16:20:08.996 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/swagger/index.html - -
2022-12-19 16:20:09.735 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/_framework/aspnetcore-browser-refresh.js - -
2022-12-19 16:20:09.736 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/swagger/index.html - - - 200 - text/html;charset=utf-8 747.1970ms
2022-12-19 16:20:09.755 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/_framework/aspnetcore-browser-refresh.js - - - 200 11986 application/javascript;+charset=utf-8 20.2405ms
2022-12-19 16:20:09.795 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/_vs/browserLink - -
2022-12-19 16:20:09.898 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 103.0179ms
2022-12-19 16:20:10.029 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/swagger/v1/swagger.json - -
2022-12-19 16:20:10.324 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 295.2235ms
2022-12-19 16:20:30.450 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7271/api/v1/departments application/json-patch+json 20
2022-12-19 16:20:30.461 +01:00 [INF] CORS policy execution failed.
2022-12-19 16:20:30.461 +01:00 [INF] Request origin https://localhost:7271 does not have permission to access the resource.
2022-12-19 16:20:30.556 +01:00 [INF] Executing endpoint 'Cyon.Api.Controllers.v1.DepartmentsController.AddDepartment (Cyon.Api)'
2022-12-19 16:20:30.592 +01:00 [INF] Route matched with {action = "AddDepartment", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Cyon.Domain.Models.Department.DepartmentModel]] AddDepartment(Cyon.Domain.DTOs.Department.DepartmentCreateDto) on controller Cyon.Api.Controllers.v1.DepartmentsController (Cyon.Api).
2022-12-19 16:20:32.687 +01:00 [INF] Entity Framework Core 6.0.11 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2022-12-19 16:20:33.604 +01:00 [INF] Executed DbCommand (113ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Departments] ([Id], [Name])
VALUES (@p0, @p1);
2022-12-19 16:20:33.713 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'Cyon.Domain.Models.Department.DepartmentModel'.
2022-12-19 16:20:33.811 +01:00 [INF] Executed action Cyon.Api.Controllers.v1.DepartmentsController.AddDepartment (Cyon.Api) in 3211.7083ms
2022-12-19 16:20:33.813 +01:00 [INF] Executed endpoint 'Cyon.Api.Controllers.v1.DepartmentsController.AddDepartment (Cyon.Api)'
2022-12-19 16:20:33.825 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7271/api/v1/departments application/json-patch+json 20 - 201 59 application/json;+charset=utf-8 3375.3698ms
2022-12-19 16:20:52.203 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7271/api/v1/departments application/json-patch+json 33
2022-12-19 16:20:52.206 +01:00 [INF] CORS policy execution failed.
2022-12-19 16:20:52.206 +01:00 [INF] Request origin https://localhost:7271 does not have permission to access the resource.
2022-12-19 16:20:52.206 +01:00 [INF] Executing endpoint 'Cyon.Api.Controllers.v1.DepartmentsController.AddDepartment (Cyon.Api)'
2022-12-19 16:20:52.207 +01:00 [INF] Route matched with {action = "AddDepartment", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Cyon.Domain.Models.Department.DepartmentModel]] AddDepartment(Cyon.Domain.DTOs.Department.DepartmentCreateDto) on controller Cyon.Api.Controllers.v1.DepartmentsController (Cyon.Api).
2022-12-19 16:20:52.261 +01:00 [INF] Entity Framework Core 6.0.11 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2022-12-19 16:20:52.268 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Departments] ([Id], [Name])
VALUES (@p0, @p1);
2022-12-19 16:20:52.270 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'Cyon.Domain.Models.Department.DepartmentModel'.
2022-12-19 16:20:52.270 +01:00 [INF] Executed action Cyon.Api.Controllers.v1.DepartmentsController.AddDepartment (Cyon.Api) in 63.5418ms
2022-12-19 16:20:52.270 +01:00 [INF] Executed endpoint 'Cyon.Api.Controllers.v1.DepartmentsController.AddDepartment (Cyon.Api)'
2022-12-19 16:20:52.270 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7271/api/v1/departments application/json-patch+json 33 - 201 72 application/json;+charset=utf-8 68.3510ms
2022-12-19 16:25:00.578 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7271/api/v1/authentication/register application/json-patch+json 220
2022-12-19 16:25:00.600 +01:00 [INF] CORS policy execution failed.
2022-12-19 16:25:00.601 +01:00 [INF] Request origin https://localhost:7271 does not have permission to access the resource.
2022-12-19 16:25:00.606 +01:00 [INF] Executing endpoint 'Cyon.Api.Controllers.v1.AuthenticationController.RegisterUser (Cyon.Api)'
2022-12-19 16:25:00.610 +01:00 [INF] Route matched with {action = "RegisterUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(Cyon.Domain.DTOs.Authentication.UserForRegistrationDto) on controller Cyon.Api.Controllers.v1.AuthenticationController (Cyon.Api).
2022-12-19 16:25:00.700 +01:00 [INF] Entity Framework Core 6.0.11 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2022-12-19 16:25:01.360 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[DateOfBirth], [a].[DepartmentId], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PhotoUrl], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2022-12-19 16:25:01.401 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[DateOfBirth], [a].[DepartmentId], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PhotoUrl], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2022-12-19 16:25:01.726 +01:00 [ERR] Failed executing DbCommand (201ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Guid), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [DateAdded], [DateOfBirth], [DepartmentId], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [PhotoUrl], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20);
2022-12-19 16:25:02.222 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'Cyon.Infrastructure.Database.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_AspNetUsers_Departments_DepartmentId". The conflict occurred in database "Cyon_Shomolu", table "dbo.Departments", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b0a518c4-27bf-4b87-81e7-75ba3e4cce1c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_AspNetUsers_Departments_DepartmentId". The conflict occurred in database "Cyon_Shomolu", table "dbo.Departments", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b0a518c4-27bf-4b87-81e7-75ba3e4cce1c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-12-19 16:25:03.004 +01:00 [INF] Executed action Cyon.Api.Controllers.v1.AuthenticationController.RegisterUser (Cyon.Api) in 2393.8779ms
2022-12-19 16:25:03.173 +01:00 [INF] Executed endpoint 'Cyon.Api.Controllers.v1.AuthenticationController.RegisterUser (Cyon.Api)'
2022-12-19 16:25:03.520 +01:00 [ERR] Error processing request
2022-12-19 16:25:03.528 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7271/api/v1/authentication/register application/json-patch+json 220 - 500 - application/json 2950.2730ms
2022-12-19 16:29:14.729 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-19 16:29:15.264 +01:00 [INF] Now listening on: https://localhost:7271
2022-12-19 16:29:15.265 +01:00 [INF] Now listening on: http://localhost:5059
2022-12-19 16:29:15.269 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-19 16:29:15.270 +01:00 [INF] Hosting environment: Development
2022-12-19 16:29:15.270 +01:00 [INF] Content root path: C:\Users\HP\Desktop\Paid-Projects\Cyon\Cyon.Api\
2022-12-19 16:29:16.125 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/swagger/index.html - -
2022-12-19 16:29:16.624 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/_framework/aspnetcore-browser-refresh.js - -
2022-12-19 16:29:16.626 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/swagger/index.html - - - 200 - text/html;charset=utf-8 509.5685ms
2022-12-19 16:29:16.639 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/_framework/aspnetcore-browser-refresh.js - - - 200 11986 application/javascript;+charset=utf-8 15.5348ms
2022-12-19 16:29:16.669 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/_vs/browserLink - -
2022-12-19 16:29:16.701 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 32.3416ms
2022-12-19 16:29:16.845 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/swagger/v1/swagger.json - -
2022-12-19 16:29:17.138 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 293.2309ms
2022-12-19 16:32:00.805 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7271/api/v1/authentication/register application/json-patch+json 278
2022-12-19 16:32:00.822 +01:00 [INF] CORS policy execution failed.
2022-12-19 16:32:00.822 +01:00 [INF] Request origin https://localhost:7271 does not have permission to access the resource.
2022-12-19 16:32:00.914 +01:00 [INF] Executing endpoint 'Cyon.Api.Controllers.v1.AuthenticationController.RegisterUser (Cyon.Api)'
2022-12-19 16:32:00.948 +01:00 [INF] Route matched with {action = "RegisterUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(Cyon.Domain.DTOs.Authentication.UserForRegistrationDto) on controller Cyon.Api.Controllers.v1.AuthenticationController (Cyon.Api).
2022-12-19 16:32:03.139 +01:00 [INF] Entity Framework Core 6.0.11 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2022-12-19 16:32:04.500 +01:00 [INF] Executed DbCommand (121ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[DateOfBirth], [a].[DepartmentId], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PhotoUrl], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2022-12-19 16:32:04.595 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[DateOfBirth], [a].[DepartmentId], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PhotoUrl], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2022-12-19 16:32:04.947 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Guid), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [DateAdded], [DateOfBirth], [DepartmentId], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [PhotoUrl], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20);
2022-12-19 16:32:05.049 +01:00 [INF] Executed DbCommand (30ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2022-12-19 16:32:05.109 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2022-12-19 16:32:05.121 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2022-12-19 16:32:05.162 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[DateOfBirth], [a].[DepartmentId], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PhotoUrl], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2022-12-19 16:32:05.175 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[DateOfBirth], [a].[DepartmentId], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PhotoUrl], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2022-12-19 16:32:05.215 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
2022-12-19 16:32:05.228 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p20='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p21='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 256), @p12='?' (Size = 256), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [DateAdded] = @p2, [DateOfBirth] = @p3, [DepartmentId] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [FirstName] = @p7, [LastName] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [NormalizedEmail] = @p11, [NormalizedUserName] = @p12, [PasswordHash] = @p13, [PhoneNumber] = @p14, [PhoneNumberConfirmed] = @p15, [PhotoUrl] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
SELECT @@ROWCOUNT;
2022-12-19 16:32:05.245 +01:00 [INF] Executing StatusCodeResult, setting HTTP status code 201
2022-12-19 16:32:05.257 +01:00 [INF] Executed action Cyon.Api.Controllers.v1.AuthenticationController.RegisterUser (Cyon.Api) in 4301.3567ms
2022-12-19 16:32:05.259 +01:00 [INF] Executed endpoint 'Cyon.Api.Controllers.v1.AuthenticationController.RegisterUser (Cyon.Api)'
2022-12-19 16:32:05.276 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7271/api/v1/authentication/register application/json-patch+json 278 - 201 0 - 4471.0106ms
2022-12-19 16:33:09.428 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/api/v1/authentication/account - -
2022-12-19 16:33:09.450 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-12-19 16:33:09.460 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-12-19 16:33:09.460 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/api/v1/authentication/account - - - 401 0 - 31.3785ms
2022-12-19 16:43:38.922 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-19 16:43:39.362 +01:00 [INF] Now listening on: https://localhost:7271
2022-12-19 16:43:39.362 +01:00 [INF] Now listening on: http://localhost:5059
2022-12-19 16:43:39.366 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-19 16:43:39.366 +01:00 [INF] Hosting environment: Development
2022-12-19 16:43:39.366 +01:00 [INF] Content root path: C:\Users\HP\Desktop\Paid-Projects\Cyon\Cyon.Api\
2022-12-19 16:43:40.490 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/swagger/index.html - -
2022-12-19 16:43:41.143 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/_framework/aspnetcore-browser-refresh.js - -
2022-12-19 16:43:41.158 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/swagger/index.html - - - 200 - text/html;charset=utf-8 684.2773ms
2022-12-19 16:43:41.160 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/_framework/aspnetcore-browser-refresh.js - - - 200 11986 application/javascript;+charset=utf-8 17.1497ms
2022-12-19 16:43:41.211 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/_vs/browserLink - -
2022-12-19 16:43:41.267 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 56.0346ms
2022-12-19 16:43:41.419 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/swagger/v1/swagger.json - -
2022-12-19 16:43:41.705 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 286.5130ms
2022-12-19 16:49:31.902 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7271/api/v1/authentication/login application/json-patch+json 65
2022-12-19 16:49:31.919 +01:00 [INF] CORS policy execution failed.
2022-12-19 16:49:31.920 +01:00 [INF] Request origin https://localhost:7271 does not have permission to access the resource.
2022-12-19 16:49:32.025 +01:00 [INF] Executing endpoint 'Cyon.Api.Controllers.v1.AuthenticationController.LoginUser (Cyon.Api)'
2022-12-19 16:49:32.056 +01:00 [INF] Route matched with {action = "LoginUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(Cyon.Domain.DTOs.Authentication.UserForAuthenticationDto) on controller Cyon.Api.Controllers.v1.AuthenticationController (Cyon.Api).
2022-12-19 16:49:34.268 +01:00 [INF] Entity Framework Core 6.0.11 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2022-12-19 16:49:35.840 +01:00 [INF] Executed DbCommand (121ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[DateOfBirth], [a].[DepartmentId], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PhotoUrl], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2022-12-19 16:49:36.256 +01:00 [INF] Executed DbCommand (57ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2022-12-19 16:49:36.427 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-12-19 16:49:36.495 +01:00 [INF] Executed action Cyon.Api.Controllers.v1.AuthenticationController.LoginUser (Cyon.Api) in 4432.3519ms
2022-12-19 16:49:36.497 +01:00 [INF] Executed endpoint 'Cyon.Api.Controllers.v1.AuthenticationController.LoginUser (Cyon.Api)'
2022-12-19 16:49:36.510 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7271/api/v1/authentication/login application/json-patch+json 65 - 200 378 application/json;+charset=utf-8 4608.7301ms
2022-12-19 16:53:31.440 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-19 16:53:31.974 +01:00 [INF] Now listening on: https://localhost:7271
2022-12-19 16:53:31.974 +01:00 [INF] Now listening on: http://localhost:5059
2022-12-19 16:53:31.978 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-19 16:53:31.978 +01:00 [INF] Hosting environment: Development
2022-12-19 16:53:31.978 +01:00 [INF] Content root path: C:\Users\HP\Desktop\Paid-Projects\Cyon\Cyon.Api\
2022-12-19 16:53:33.210 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/swagger/index.html - -
2022-12-19 16:53:33.949 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/_framework/aspnetcore-browser-refresh.js - -
2022-12-19 16:53:33.968 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/_framework/aspnetcore-browser-refresh.js - - - 200 11986 application/javascript;+charset=utf-8 16.8699ms
2022-12-19 16:53:33.976 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/swagger/index.html - - - 200 - text/html;charset=utf-8 772.0298ms
2022-12-19 16:53:34.011 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/_vs/browserLink - -
2022-12-19 16:53:34.110 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 99.5373ms
2022-12-19 16:53:34.269 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/swagger/v1/swagger.json - -
2022-12-19 16:53:34.653 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 383.9379ms
2022-12-19 16:53:59.841 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/api/v1/authentication/account - -
2022-12-19 16:54:00.220 +01:00 [INF] Executing endpoint 'Cyon.Api.Controllers.v1.AuthenticationController.GetAccount (Cyon.Api)'
2022-12-19 16:54:00.247 +01:00 [INF] Route matched with {action = "GetAccount", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Cyon.Domain.Models.Authentication.AccountModel]] GetAccount() on controller Cyon.Api.Controllers.v1.AuthenticationController (Cyon.Api).
2022-12-19 16:54:02.043 +01:00 [INF] Entity Framework Core 6.0.11 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2022-12-19 16:54:03.295 +01:00 [INF] Executed DbCommand (118ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[DateOfBirth], [a].[DepartmentId], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PhotoUrl], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2022-12-19 16:54:03.611 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2022-12-19 16:54:03.644 +01:00 [INF] Executing OkObjectResult, writing value of type 'Cyon.Domain.Models.Authentication.AccountModel'.
2022-12-19 16:54:03.822 +01:00 [INF] Executed action Cyon.Api.Controllers.v1.AuthenticationController.GetAccount (Cyon.Api) in 3567.9568ms
2022-12-19 16:54:03.824 +01:00 [INF] Executed endpoint 'Cyon.Api.Controllers.v1.AuthenticationController.GetAccount (Cyon.Api)'
2022-12-19 16:54:03.838 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/api/v1/authentication/account - - - 200 322 application/json;+charset=utf-8 3997.7789ms
2022-12-19 16:54:44.117 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/api/v1/departments/8292990a-f73e-4be1-83cd-08dae1d49222 - -
2022-12-19 16:54:44.130 +01:00 [INF] Executing endpoint 'Cyon.Api.Controllers.v1.DepartmentsController.GetDepartment (Cyon.Api)'
2022-12-19 16:54:44.149 +01:00 [INF] Route matched with {action = "GetDepartment", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Cyon.Domain.Models.Department.DepartmentModel]] GetDepartment(System.Guid) on controller Cyon.Api.Controllers.v1.DepartmentsController (Cyon.Api).
2022-12-19 16:54:44.231 +01:00 [INF] Entity Framework Core 6.0.11 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2022-12-19 16:54:44.689 +01:00 [INF] Executed action Cyon.Api.Controllers.v1.DepartmentsController.GetDepartment (Cyon.Api) in 539.6412ms
2022-12-19 16:54:44.743 +01:00 [INF] Executed endpoint 'Cyon.Api.Controllers.v1.DepartmentsController.GetDepartment (Cyon.Api)'
2022-12-19 16:54:44.903 +01:00 [ERR] Error processing request
2022-12-19 16:54:44.908 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/api/v1/departments/8292990a-f73e-4be1-83cd-08dae1d49222 - - - 500 - application/json 790.5069ms
2022-12-19 16:55:12.758 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/api/v1/departments - -
2022-12-19 16:55:12.771 +01:00 [INF] Executing endpoint 'Cyon.Api.Controllers.v1.DepartmentsController.GetDepartments (Cyon.Api)'
2022-12-19 16:55:12.776 +01:00 [INF] Route matched with {action = "GetDepartments", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Cyon.Domain.Models.Department.DepartmentModel]]] GetDepartments(Cyon.Domain.Common.Pagination) on controller Cyon.Api.Controllers.v1.DepartmentsController (Cyon.Api).
2022-12-19 16:55:12.813 +01:00 [INF] Entity Framework Core 6.0.11 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2022-12-19 16:55:12.823 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-19 16:55:12.824 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-19 16:55:12.833 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Name]
FROM [Departments] AS [d]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-19 16:55:12.845 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Cyon.Domain.Models.Department.DepartmentModel, Cyon.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-12-19 16:55:12.846 +01:00 [INF] Executed action Cyon.Api.Controllers.v1.DepartmentsController.GetDepartments (Cyon.Api) in 69.8264ms
2022-12-19 16:55:12.846 +01:00 [INF] Executed endpoint 'Cyon.Api.Controllers.v1.DepartmentsController.GetDepartments (Cyon.Api)'
2022-12-19 16:55:12.847 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/api/v1/departments - - - 200 134 application/json;+charset=utf-8 89.2394ms
2022-12-19 16:59:58.248 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-19 16:59:58.834 +01:00 [INF] Now listening on: https://localhost:7271
2022-12-19 16:59:58.835 +01:00 [INF] Now listening on: http://localhost:5059
2022-12-19 16:59:58.840 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-19 16:59:58.840 +01:00 [INF] Hosting environment: Development
2022-12-19 16:59:58.840 +01:00 [INF] Content root path: C:\Users\HP\Desktop\Paid-Projects\Cyon\Cyon.Api\
2022-12-19 16:59:59.890 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/swagger/index.html - -
2022-12-19 17:00:00.577 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/_framework/aspnetcore-browser-refresh.js - -
2022-12-19 17:00:00.578 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/swagger/index.html - - - 200 - text/html;charset=utf-8 694.5703ms
2022-12-19 17:00:00.594 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/_framework/aspnetcore-browser-refresh.js - - - 200 11986 application/javascript;+charset=utf-8 17.1100ms
2022-12-19 17:00:00.630 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/_vs/browserLink - -
2022-12-19 17:00:00.710 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 79.5793ms
2022-12-19 17:00:00.864 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/swagger/v1/swagger.json - -
2022-12-19 17:00:01.172 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 307.8574ms
2022-12-19 17:00:39.606 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/api/v1/authentication/account - -
2022-12-19 17:00:40.001 +01:00 [INF] Executing endpoint 'Cyon.Api.Controllers.v1.AuthenticationController.GetAccount (Cyon.Api)'
2022-12-19 17:00:40.023 +01:00 [INF] Route matched with {action = "GetAccount", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Cyon.Domain.Models.Authentication.AccountModel]] GetAccount() on controller Cyon.Api.Controllers.v1.AuthenticationController (Cyon.Api).
2022-12-19 17:00:41.792 +01:00 [INF] Entity Framework Core 6.0.11 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2022-12-19 17:00:43.075 +01:00 [INF] Executed DbCommand (115ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[DateOfBirth], [a].[DepartmentId], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PhotoUrl], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2022-12-19 17:00:43.393 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2022-12-19 17:00:43.421 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Name]
FROM [Departments] AS [d]
WHERE [d].[Id] = @__id_0
2022-12-19 17:00:43.455 +01:00 [INF] Executing OkObjectResult, writing value of type 'Cyon.Domain.Models.Authentication.AccountModel'.
2022-12-19 17:00:43.631 +01:00 [INF] Executed action Cyon.Api.Controllers.v1.AuthenticationController.GetAccount (Cyon.Api) in 3601.3614ms
2022-12-19 17:00:43.633 +01:00 [INF] Executed endpoint 'Cyon.Api.Controllers.v1.AuthenticationController.GetAccount (Cyon.Api)'
2022-12-19 17:00:43.643 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/api/v1/authentication/account - - - 200 337 application/json;+charset=utf-8 4037.0815ms
2022-12-19 17:01:18.097 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/api/v1/authentication/account - -
2022-12-19 17:01:18.113 +01:00 [INF] Executing endpoint 'Cyon.Api.Controllers.v1.AuthenticationController.GetAccount (Cyon.Api)'
2022-12-19 17:01:18.113 +01:00 [INF] Route matched with {action = "GetAccount", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Cyon.Domain.Models.Authentication.AccountModel]] GetAccount() on controller Cyon.Api.Controllers.v1.AuthenticationController (Cyon.Api).
2022-12-19 17:01:18.171 +01:00 [INF] Entity Framework Core 6.0.11 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2022-12-19 17:01:18.180 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[DateOfBirth], [a].[DepartmentId], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PhotoUrl], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2022-12-19 17:01:18.184 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2022-12-19 17:01:18.186 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Name]
FROM [Departments] AS [d]
WHERE [d].[Id] = @__id_0
2022-12-19 17:01:18.186 +01:00 [INF] Executing OkObjectResult, writing value of type 'Cyon.Domain.Models.Authentication.AccountModel'.
2022-12-19 17:01:18.187 +01:00 [INF] Executed action Cyon.Api.Controllers.v1.AuthenticationController.GetAccount (Cyon.Api) in 73.3538ms
2022-12-19 17:01:18.187 +01:00 [INF] Executed endpoint 'Cyon.Api.Controllers.v1.AuthenticationController.GetAccount (Cyon.Api)'
2022-12-19 17:01:18.187 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/api/v1/authentication/account - - - 200 337 application/json;+charset=utf-8 90.5057ms
2022-12-19 17:01:19.493 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7271/api/v1/authentication/account - -
2022-12-19 17:01:19.497 +01:00 [INF] Executing endpoint 'Cyon.Api.Controllers.v1.AuthenticationController.GetAccount (Cyon.Api)'
2022-12-19 17:01:19.497 +01:00 [INF] Route matched with {action = "GetAccount", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Cyon.Domain.Models.Authentication.AccountModel]] GetAccount() on controller Cyon.Api.Controllers.v1.AuthenticationController (Cyon.Api).
2022-12-19 17:01:19.539 +01:00 [INF] Entity Framework Core 6.0.11 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.11' with options: None
2022-12-19 17:01:19.544 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[DateOfBirth], [a].[DepartmentId], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PhotoUrl], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2022-12-19 17:01:19.549 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2022-12-19 17:01:19.551 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Name]
FROM [Departments] AS [d]
WHERE [d].[Id] = @__id_0
2022-12-19 17:01:19.551 +01:00 [INF] Executing OkObjectResult, writing value of type 'Cyon.Domain.Models.Authentication.AccountModel'.
2022-12-19 17:01:19.551 +01:00 [INF] Executed action Cyon.Api.Controllers.v1.AuthenticationController.GetAccount (Cyon.Api) in 54.6458ms
2022-12-19 17:01:19.551 +01:00 [INF] Executed endpoint 'Cyon.Api.Controllers.v1.AuthenticationController.GetAccount (Cyon.Api)'
2022-12-19 17:01:19.552 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7271/api/v1/authentication/account - - - 200 337 application/json;+charset=utf-8 58.3534ms
